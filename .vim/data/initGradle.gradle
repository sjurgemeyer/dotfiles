allprojects { project ->
	addListener(new TaskExecutionListener() {
		void afterExecute(Task task, TaskState state) { }

		void beforeExecute(Task task) {
			if (task.name.startsWith('codenarc')) {
				def extension = project.extensions.findByName("codenarc")
				if (extension) {
					extension.setReportFormat('text')
				}
			}
		}
	})
}
